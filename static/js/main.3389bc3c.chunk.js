(this.webpackJsonpsarv=this.webpackJsonpsarv||[]).push([[0],{74:function(e,t,a){e.exports=a(87)},79:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),i=(a(79),a(27)),o=a.n(i),u=a(39),s=a(13),m=a(42),d=a(11),f=a(135),g=a(136),b=a(88),p=a(137),h=a(138),v=a(141),E=a(65),j=Object(E.a)({palette:{primary:{main:"#0737A0"},secondary:{main:"#fff",light:"rgba(255, 255, 255, 0.5)"},text:{primary:"#1C2126",secondary:"#727981"}},typography:{fontSize:14,fontFamily:"Roboto, sans-serif",h4:{fontWeight:"bold",fontSize:"1.38rem"},h5:{fontWeight:"bold",fontSize:"1.25rem"},subtitle2:{fontSize:"1rem",color:"#727981"}},overrides:{MuiContainer:{root:{paddingTop:"20px",maxWidth:"1200px !important"}},MuiPagination:{ul:{justifyContent:"flex-end"}}}}),O=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r,c,l,i,u,m,d,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0,c=Object.entries(t);r<c.length;r++)l=Object(s.a)(c[r],2),i=l[0],(u=l[1])&&(n.length<1?n.push("&".concat(i,"=").concat(u)):n.push("".concat(i,"=").concat(u)));return m="https://api.geocollections.info/locality/?page=".concat(a).concat(n.join("&")),e.next=5,fetch(m,{method:"GET"});case 5:return d=e.sent,e.next=8,d.json();case 8:return f=e.sent,e.abrupt("return",f);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=a(51),C=a(123),w=a(142),x=a(128);function S(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],d=o[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),b=g[0],p=g[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),E=v[0],j=v[1],O=Object(n.useState)(""),S=Object(s.a)(O,2),k=S[0],L=S[1],N=Object(C.a)((function(e){return{inputContainer:Object(y.a)({display:"flex",alignItems:"flex-start",flexDirection:"column"},e.breakpoints.down("md"),{flexDirection:"column",alignContent:"stretch",alignItems:"center"}),inputs:Object(y.a)({display:"flex"},e.breakpoints.down("md"),{flexDirection:"column",alignItems:"center"}),searchField:Object(y.a)({marginRight:"10px"},e.breakpoints.down("md"),{marginBottom:"10px"}),button:{marginTop:"10px",marginRight:"10px"}}}));return r.a.createElement("div",{className:N().inputContainer},r.a.createElement("div",{className:N().inputs},r.a.createElement(w.a,{id:"latitude-input",label:"Latitude",variant:"outlined",className:N().searchField,onChange:function(e){return l(e.target.value)},value:c}),r.a.createElement(w.a,{id:"longitude-input",label:"Longitude",variant:"outlined",className:N().searchField,onChange:function(e){return d(e.target.value)},value:u}),r.a.createElement(w.a,{id:"locality-input",label:"Locality (EE)",variant:"outlined",className:N().searchField,onChange:function(e){return p(e.target.value)},value:b}),r.a.createElement(w.a,{id:"countyValue-input",label:"County (EE)",variant:"outlined",className:N().searchField,onChange:function(e){return j(e.target.value)},value:E}),r.a.createElement(w.a,{id:"countryValue-input",label:"Country (EE)",variant:"outlined",className:N().searchField,onChange:function(e){return L(e.target.value)},value:k})),r.a.createElement("div",{className:"buttons"},r.a.createElement(m.b,{to:"/results"},r.a.createElement(x.a,{variant:"contained",className:N().button,onClick:function(){return e.searchQuery({latitude:c,longitude:u,locality:b,maakond__maakond:E,country__value:k})}},"Search")),r.a.createElement(m.b,{to:"/"},r.a.createElement(x.a,{variant:"contained",className:N().button,onClick:function(){l(""),d(""),l(""),p(""),L("")}},"Clear"))))}var k=a(129),L=a(130),N=a(131),F=a(132),P=a(133),_=a(134),R=a(140);function I(e){var t=e.searchResults,a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(10),u=Object(s.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)(0),g=Object(s.a)(f,2),b=g[0],p=g[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),E=v[0],j=v[1],O=Object(n.useState)(""),y=Object(s.a)(O,2),C=y[0],x=y[1];Object(n.useEffect)((function(){if(C){var e=E.filter((function(e){var t;return null===(t=e.locality)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase())}));j(e)}else j(null===t||void 0===t?void 0:t.results)}),[C]),Object(n.useEffect)((function(){if(C){var e=t.results.filter((function(e){var t;return null===(t=e.locality)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase())}));j(e)}else j(null===t||void 0===t?void 0:t.results)}),[t]),Object(n.useEffect)((function(){E&&p(null===E||void 0===E?void 0:E.length)}),[E]);return E?r.a.createElement(k.a,null,r.a.createElement(w.a,{id:"filter-locality",label:"filter locality",onChange:function(e){return x(e.target.value)}}),r.a.createElement(L.a,{"aria-label":"simple table"},r.a.createElement(N.a,null,r.a.createElement(F.a,null,r.a.createElement(P.a,null,"ID"),r.a.createElement(P.a,{align:"right"},"Latitude"),r.a.createElement(P.a,{align:"right"},"Longitude"),r.a.createElement(P.a,{align:"right"},"Locality"),r.a.createElement(P.a,{align:"right"},"County"),r.a.createElement(P.a,{align:"right"},"Country"))),r.a.createElement(_.a,null,null===E||void 0===E?void 0:E.slice(l*m,l*m+m).map((function(e){return r.a.createElement(F.a,{key:e.id},r.a.createElement(P.a,{component:"th",scope:"row"},e.id||"-"),r.a.createElement(P.a,{align:"right"},e.latitude||"-"),r.a.createElement(P.a,{align:"right"},e.longitude||"-"),r.a.createElement(P.a,{align:"right"},e.locality||"-"),r.a.createElement(P.a,{align:"right"},e.maakond__maakond||"-"),r.a.createElement(P.a,{align:"right"},e.country__value||"-"))})))),r.a.createElement(R.a,{rowsPerPageOptions:[5,10,25],component:"div",count:b||0,rowsPerPage:m,page:l,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){d(+e.target.value),i(0)}})):null}a(86);var W=function(){var e=Object(n.useState)(void 0),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),E=i[0],y=i[1],C=Object(n.useState)(1),w=Object(s.a)(C,2),x=w[0],k=w[1],L=Object(n.useState)(void 0),N=Object(s.a)(L,2),F=N[0],P=N[1],_=Object(n.useRef)(),R=_.current;return Object(n.useEffect)((function(){var e=function(){for(var e in R)if(R[e]!==a[e])return!1;return!0};(_.current=a,a&&e()&&Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,O(a,x);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))(),a&&!e())&&(k(1),function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,O(a,1);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[a,x,R]),Object(n.useEffect)((function(){var e;E&&P(parseInt(null===(e=E.page)||void 0===e?void 0:e.slice(10)))}),[E,F]),r.a.createElement(f.a,{theme:j},r.a.createElement(g.a,null,r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{path:"/",render:function(){return r.a.createElement(S,{searchQuery:function(e){return c(e)}})}}),r.a.createElement(d.a,{path:"/results",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{searchResults:E}),r.a.createElement(v.a,{onChange:function(e,t){return k(t)},count:F||0,page:x}))}})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[74,1,2]]]);
//# sourceMappingURL=main.3389bc3c.chunk.js.map